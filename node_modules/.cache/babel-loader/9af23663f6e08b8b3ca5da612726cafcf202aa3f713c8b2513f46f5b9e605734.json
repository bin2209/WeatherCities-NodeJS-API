{"ast":null,"code":"(function () {\n  \"use strict\";\n\n  var touchEnabled = (\"ontouchstart\" in document.documentElement);\n  var pressEvent = touchEnabled ? \"touchend\" : \"click\";\n  var each = [].forEach;\n\n  // Name of the onTransitionEnd event supported by this browser\n  var transitionEnd = function () {\n    for (var names = \"transitionend webkitTransitionEnd oTransitionEnd otransitionend\".split(\" \"), i = 0; i < 4; ++i) if (\"on\" + names[i].toLowerCase() in window) return names[i];\n    return names[0];\n  }();\n\n  /**\n   * Conditionally add or remove a token from a token-list.\n   *\n   * @param {DOMTokenList} list\n   * @param {String} token\n   * @param {Boolean} enabled\n   */\n  function setToken(list, token, enabled) {\n    enabled ? list.add(token) : list.remove(token);\n  }\n\n  /**\n   * Stop a function from firing too quickly.\n   *\n   * Returns a copy of the original function that runs only after the designated\n   * number of milliseconds have elapsed. Useful for throttling onResize handlers.\n   *\n   * @param {Number} limit - Threshold to stall execution by, in milliseconds.\n   * @param {Boolean} soon - If TRUE, will call the function *before* the threshold's elapsed, rather than after.\n   * @return {Function}\n   */\n  function debounce(fn, limit, soon) {\n    var limit = limit < 0 ? 0 : limit,\n      started,\n      context,\n      args,\n      timer,\n      delayed = function () {\n        // Get the time between now and when the function was first fired\n        var timeSince = Date.now() - started;\n        if (timeSince >= limit) {\n          if (!soon) fn.apply(context, args);\n          if (timer) clearTimeout(timer);\n          timer = context = args = null;\n        } else timer = setTimeout(delayed, limit - timeSince);\n      };\n\n    // Debounced copy of the original function\n    return function () {\n      context = this, args = arguments;\n      if (!limit) return fn.apply(context, args);\n      started = Date.now();\n      if (!timer) {\n        if (soon) fn.apply(context, args);\n        timer = setTimeout(delayed, limit);\n      }\n    };\n  }\n  ;\n  var uniqueID = function () {\n    var IDs = {};\n    var indexes = {};\n\n    /**\n     * Generate a unique ID for a DOM element.\n     *\n     * By default, minimalist IDs like \"_1\" or \"_2\" are generated using internally\n     * tracked incrementation. Uglier, more collision-proof IDs can be generated by\n     * passing a truthy value to the function's first argument.\n     *\n     * Irrespective of whether values are being generated simply or randomly, the\n     * document tree is always consulted first to ensure a duplicate ID is never\n     * returned.\n     *\n     * @param {String}  prefix - Prefix prepended to result. Default: \"_\"\n     * @param {Boolean} random - Generate collision-proof IDs using random symbols\n     * @param {Number}  length - Length of random passwords. Default: 6\n     * @return {String}\n     */\n    function uniqueID(prefix, complex, length) {\n      length = +(length || 6);\n      var result = prefix = prefix || \"_\";\n\n      // Simple IDs\n      if (!complex) {\n        // Set this prefix's starting index if it's not been used yet\n        if (!indexes[prefix]) indexes[prefix] = 0;\n        result += ++indexes[prefix];\n      }\n\n      // Uglier/safer IDs\n      else {\n        var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n        chars += chars.toLowerCase();\n        result += chars[Math.round(Math.random() * (chars.length - 1))];\n        chars += \"0123456789\";\n        while (result.length < length) result += chars[Math.round(Math.random() * (chars.length - 1))];\n      }\n      return IDs[result] || document.getElementById(result) ? uniqueID(prefix, complex) : (IDs[result] = true, result);\n    }\n    return uniqueID;\n  }();\n\n  // Name of the CSSOM property used by this browser for CSS transforms\n  var cssTransform = function (n) {\n    s = document.documentElement.style;\n    if ((prop = n.toLowerCase()) in s) return prop;\n    for (var prop, s, p = \"Webkit Moz Ms O Khtml\", p = (p.toLowerCase() + p).split(\" \"), i = 0; i < 10; ++i) if ((prop = p[i] + n) in s) return prop;\n    return \"\";\n  }(\"Transform\");\n\n  // Whether 3D transforms are supported by this browser\n  var css3DSupported = function (propName) {\n    var e = document.createElement(\"div\"),\n      s = e.style,\n      v = [[\"translateY(\", \")\"], [\"translate3d(0,\", \",0)\"]];\n    try {\n      s[propName] = v[1].join(\"1px\");\n    } catch (e) {}\n    return v[+!!s[propName]] === v[1];\n  }(cssTransform);\n  var folds = [];\n\n  /**\n   * Represents a single panel of togglable content inside an Accordion.\n   *\n   * @param {Accordion} accordion\n   * @param {HTMLElement} el\n   * @constructor\n   */\n  var Fold = function (accordion, el) {\n    var THIS = this;\n    var heading = el.firstElementChild;\n    var content = el.lastElementChild;\n    var elClasses = el.classList;\n    var openClass = accordion.openClass;\n    var closeClass = accordion.closeClass;\n    var keysEnabled = !accordion.noKeys;\n    var useBorders = accordion.useBorders;\n    var useTransforms = !accordion.noTransforms && cssTransform;\n    var onToggle = accordion.onToggle;\n    var _disabled = false;\n    var _open, _y, _height, _ariaEnabled;\n    var scrollX, scrollY;\n    var onTouchStart;\n    var onKeyDown;\n    var onPress;\n    Object.defineProperties(THIS, {\n      fit: {\n        value: fit\n      },\n      // Add or remove relevant ARIA attributes from the fold's elements\n      ariaEnabled: {\n        get: function () {\n          return _ariaEnabled;\n        },\n        set: function (input) {\n          if ((input = !!input) !== !!_ariaEnabled) {\n            _ariaEnabled = input;\n\n            // Enable ARIA-attribute management\n            if (input) {\n              heading.setAttribute(\"role\", \"tab\");\n              content.setAttribute(\"role\", \"tabpanel\");\n              checkIDs();\n\n              // Update the attributes that're controlled by .open's setter\n              heading.setAttribute(\"aria-selected\", !!_open);\n              heading.setAttribute(\"aria-expanded\", !!_open);\n              content.setAttribute(\"aria-hidden\", !_open);\n            }\n\n            // Disabling; remove all relevant attributes\n            else {\n              heading.removeAttribute(\"role\");\n              heading.removeAttribute(\"aria-controls\");\n              heading.removeAttribute(\"aria-selected\");\n              heading.removeAttribute(\"aria-expanded\");\n              content.removeAttribute(\"role\");\n              content.removeAttribute(\"aria-labelledby\");\n              content.removeAttribute(\"aria-hidden\");\n            }\n          }\n        }\n      },\n      // Whether or not the fold's currently opened\n      open: {\n        get: function () {\n          // Derive the fold's opened state from the DOM if it's not been determined yet\n          if (undefined === _open) {\n            _open = elClasses.contains(openClass);\n            setToken(elClasses, closeClass, !_open);\n          }\n          return _open;\n        },\n        set: function (input) {\n          if ((input = !!input) !== _open) {\n            // If an onToggle callback was specified, run it. Avoid doing anything if it returns false.\n            if (\"function\" === typeof onToggle && false === onToggle.call(null, THIS, input)) return;\n            setToken(elClasses, openClass, input);\n            setToken(elClasses, closeClass, !input);\n            _open = input;\n\n            // Update ARIA attributes\n            if (_ariaEnabled) {\n              heading.setAttribute(\"aria-selected\", input);\n              heading.setAttribute(\"aria-expanded\", input);\n              content.setAttribute(\"aria-hidden\", !input);\n            }\n\n            // If this fold was closed when the screen resized, run a full update in case its contents were juggled around\n            if (THIS.needsRefresh) {\n              delete THIS.needsRefresh;\n              accordion.refresh();\n            } else accordion.update();\n\n            // Close other folds if accordion is modal\n            if (accordion.modal && _open) {\n              for (var fold, i = 0, l = accordion.folds.length; i < l; ++i) {\n                if (THIS !== (fold = accordion.folds[i])) fold.open = false;\n              }\n            }\n          }\n        }\n      },\n      // Whether the fold's been deactivated\n      disabled: {\n        get: function () {\n          return _disabled;\n        },\n        set: function (input) {\n          if ((input = !!input) !== _disabled) {\n            var style = el.style;\n\n            // Deactivated\n            if (_disabled = input) {\n              style.height = null;\n              useTransforms ? style[cssTransform] = null : style.top = null;\n              touchEnabled && heading.removeEventListener(\"touchstart\", onTouchStart);\n              heading.removeEventListener(pressEvent, onPress);\n              elClasses.remove(openClass, closeClass);\n              if (onKeyDown) {\n                heading.removeEventListener(\"keydown\", onKeyDown);\n                heading.removeAttribute(\"tabindex\");\n              }\n              if (_ariaEnabled) {\n                THIS.ariaEnabled = false;\n                _ariaEnabled = true;\n              }\n            }\n\n            // Reactivated\n            else {\n              style.height = _height + \"px\";\n              useTransforms ? style[cssTransform] = css3DSupported ? \"translate3D(0,\" + _y + \"px,0)\" : \"translateY(\" + _y + \"px)\" : style.top = _y + \"px\";\n              touchEnabled && heading.addEventListener(\"touchstart\", onTouchStart);\n              heading.addEventListener(pressEvent, onPress);\n              if (onKeyDown) {\n                heading.addEventListener(\"keydown\", onKeyDown);\n                heading.tabIndex = 0;\n              }\n            }\n          }\n        }\n      },\n      // Vertical position of the fold within an accordion's container\n      y: {\n        get: function () {\n          if (undefined === _y) return _y = parseInt(el.style.top) || 0;\n          return _y;\n        },\n        set: function (input) {\n          if ((input = +input) !== _y) {\n            _y = input;\n            useTransforms ? el.style[cssTransform] = css3DSupported ? \"translate3D(0,\" + input + \"px,0)\" : \"translateY(\" + input + \"px)\" : el.style.top = input + \"px\";\n          }\n        }\n      },\n      // Height of the fold's outermost container\n      height: {\n        get: function () {\n          if (undefined === _height) {\n            _height = THIS.headingHeight + content.scrollHeight;\n            el.style.height = _height + \"px\";\n          }\n          return _height;\n        },\n        set: function (input) {\n          if (input && (input = +input) !== _height) {\n            el.style.height = input + \"px\";\n            _height = input;\n          }\n        }\n      },\n      // Current height of the fold's heading\n      headingHeight: {\n        get: function () {\n          return heading.scrollHeight + THIS.heightOffset + (useBorders ? THIS.headingBorder : 0);\n        }\n      },\n      // Total height consumed by the heading element's CSS borders, if any\n      headingBorder: {\n        get: function () {\n          return (heading.offsetHeight || 0) - (heading.clientHeight || 0);\n        }\n      },\n      // Total height of the fold's container element\n      elHeight: {\n        get: function () {\n          return el.scrollHeight + (useBorders ? THIS.elBorder : 0);\n        }\n      },\n      // Total height consumed by container element's CSS borders, if any\n      elBorder: {\n        get: function () {\n          return (el.offsetHeight || 0) - (el.clientHeight || 0);\n        }\n      },\n      // Whether the fold's container has been resized incorrectly\n      wrongSize: {\n        get: function () {\n          return THIS.headingHeight + content.scrollHeight !== el.scrollHeight;\n        }\n      }\n    });\n    THIS.index = folds.push(THIS) - 1;\n    THIS.accordion = accordion;\n    THIS.el = el;\n    THIS.heading = heading;\n    THIS.content = content;\n    THIS.ariaEnabled = !accordion.noAria;\n    THIS.heightOffset = accordion.heightOffset;\n    el.accordionFold = THIS.index;\n    useBorders = \"auto\" === useBorders ? 0 !== THIS.elBorder + THIS.headingBorder : useBorders;\n    function checkIDs() {\n      var headingSuffix = \"-heading\";\n      var contentSuffix = \"-content\";\n      var elID = el.id;\n      var id;\n\n      // Neither of the fold's elements have an ID attribute\n      if (!heading.id && !content.id) {\n        id = elID || uniqueID(\"a\");\n        heading.id = id + headingSuffix;\n        content.id = id + contentSuffix;\n      }\n\n      // Either the heading or element lack an ID\n      else if (!content.id) content.id = (elID || heading.id) + contentSuffix;else if (!heading.id) heading.id = (elID || content.id) + headingSuffix;\n\n      // Finally, double-check each element's ID is really unique\n      var $ = function (s) {\n        return document.querySelectorAll(\"#\" + s);\n      };\n      while ($(content.id).length > 1 || $(heading.id).length > 1) {\n        id = uniqueID(\"a\");\n        content.id = id + contentSuffix;\n        heading.id = id + headingSuffix;\n      }\n\n      // Update ARIA attributes\n      heading.setAttribute(\"aria-controls\", content.id);\n      content.setAttribute(\"aria-labelledby\", heading.id);\n    }\n\n    // Keyboard navigation\n    if (keysEnabled) {\n      heading.tabIndex = 0;\n      heading.addEventListener(\"keydown\", onKeyDown = function (e) {\n        var key = e.keyCode;\n        var fold;\n        switch (key) {\n          // Spacebar: Toggle\n          case 32:\n            e.preventDefault();\n          // Fall-through\n\n          // Enter: Toggle\n          case 13:\n            THIS.open = !THIS.open;\n            if (\"A\" === e.target.tagName) e.preventDefault();\n            break;\n\n          // Escape: Clear focus\n          case 27:\n            e.target.blur();\n            break;\n\n          // Up arrow: Previous section\n          case 38:\n            {\n              // Is there a previous sibling to navigate up to?\n              if (fold = THIS.previousFold) {\n                var children = fold.childAccordions;\n\n                // Is it open, and does it have nested accordions?\n                if (fold.open && children) {\n                  var lastAcc;\n                  var lastFold;\n\n                  // Locate the deepest/nearest accordion that's currently exposed\n                  while (children) {\n                    lastAcc = children[children.length - 1];\n                    lastFold = lastAcc.folds[lastAcc.folds.length - 1];\n                    if (!lastFold.open) break;\n                    children = lastFold.childAccordions;\n                  }\n                  lastFold.heading.focus();\n                }\n\n                // Nope\n                else fold.heading.focus();\n              }\n\n              // Is there a higher level we can jump back up to?\n              else if (accordion.parent) accordion.parentFold.heading.focus();\n\n              // There's nothing to move back to, so just let the browser run its usual behaviour\n              else return true;\n              e.preventDefault();\n              return false;\n            }\n\n          // Down arrow: Next section\n          case 40:\n            {\n              var children = THIS.childAccordions;\n\n              // Is there a nested accordion to jump into?\n              if (THIS.open && children) children[0].folds[0].heading.focus();\n\n              // No, there isn't. Is there another sibling to move down to?\n              else if (fold = THIS.nextFold) fold.heading.focus();\n\n              // Is there a containing accordion we can navigate back up to?\n              else if (THIS.accordion.parent) {\n                var parent = THIS;\n                while (parent = parent.accordion.parentFold) if (fold = parent.nextFold) {\n                  fold.heading.focus();\n                  break;\n                }\n\n                // Nowhere left to go...\n                if (!parent) return true;\n              }\n\n              // Nah. Just scroll the window normally, as per browser default\n              else return true;\n              e.preventDefault();\n              return false;\n            }\n\n          // Left arrow\n          case 37:\n            {\n              // Close an opened section\n              if (THIS.open) THIS.open = false;\n\n              // Switch focus back to parent\n              else if (accordion.parent) accordion.parentFold.heading.focus();\n              break;\n            }\n\n          // Right arrow\n          case 39:\n            {\n              var children = THIS.childAccordions;\n\n              // Open a closed section\n              if (!THIS.open) THIS.open = true;\n\n              // Switch focus to a nested accordion\n              else if (children) children[0].folds[0].heading.focus();\n              break;\n            }\n        }\n      });\n    }\n\n    // Listener to record the viewport's scroll offsets at the beginning of a touch\n    touchEnabled && heading.addEventListener(\"touchstart\", onTouchStart = function (e) {\n      scrollX = window.pageXOffset;\n      scrollY = window.pageYOffset;\n    }, {\n      passive: true\n    });\n    heading.addEventListener(pressEvent, onPress = function (e) {\n      // Pressed on something inside the header\n      if (e.target !== heading && heading.contains(e.target)) {\n        // Cancel fold-toggle if user clicked on an anchor-link\n        if (\"A\" === e.target.tagName && e.target.href) return true;\n      }\n      if (e.type !== \"touchend\" || e.cancelable && window.pageXOffset === scrollX && window.pageYOffset === scrollY) {\n        THIS.open = !THIS.open;\n        e.preventDefault();\n      }\n      return false;\n    });\n\n    /**\n     * Adjust a fold's container to fit its content.\n     */\n    function fit() {\n      var height = THIS.headingHeight;\n      if (THIS.open) height += content.scrollHeight;\n      if (useBorders) height += THIS.elBorder;\n      THIS.height = height;\n    }\n  };\n  var accordions = [];\n  var activeAccordions = 0;\n  var lastResizeRate;\n\n  /**\n   * Represents a column of collapsible content regions.\n   *\n   * @param {HTMLElement} el                    - Container wrapped around each immediate fold\n   * @param {Object}      options               - Optional hash of settings\n   * @param {String}      options.openClass     - CSS class controlling each fold's \"open\" state\n   * @param {String}      options.closeClass    - CSS class used to mark a fold as closed\n   * @param {String}      options.edgeClass     - CSS class toggled based on whether the bottom-edge is visible\n   * @param {String}      options.snapClass     - CSS class for disabling transitions between window resizes\n   * @param {String}      options.enabledClass  - CSS class marking an accordion as enabled\n   * @param {String}      options.disabledClass - CSS class marking an accordion as disabled\n   * @param {Boolean}     options.disabled      - Whether to disable the accordion on creation\n   * @param {Boolean}     options.modal         - Whether to close the current fold when opening another\n   * @param {Boolean}     options.noAria        - Disable the addition and management of ARIA attributes\n   * @param {Boolean}     options.noKeys        - Disable keyboard navigation\n   * @param {Boolean}     options.noTransforms  - Disable CSS transforms; positioning will be used instead\n   * @param {Number}      options.heightOffset  - Distance to offset each fold by\n   * @param {Boolean}     options.useBorders    - Consider borders when calculating fold heights\n   * @param {Function}    options.onToggle      - Callback executed when opening or closing a fold\n   * @constructor\n   */\n  var Accordion = function (el, options) {\n    var THIS = this;\n    var elClasses = el.classList;\n    var options = options || {};\n    var edgeClass = undefined === options.edgeClass ? \"edge-visible\" : options.edgeClass;\n    var snapClass = undefined === options.snapClass ? \"snap\" : options.snapClass;\n    var enabledClass = undefined === options.enabledClass ? \"accordion\" : options.enabledClass;\n    var disabledClass = options.disabledClass;\n    var _height, _disabled, _parent, _parentFold, _modal;\n    Object.defineProperties(THIS, {\n      update: {\n        value: update\n      },\n      updateFold: {\n        value: updateFold\n      },\n      refresh: {\n        value: refresh\n      },\n      // Whether the accordion's been deactivated\n      disabled: {\n        get: function () {\n          return _disabled;\n        },\n        set: function (input) {\n          if ((input = !!input) !== _disabled) {\n            var style = el.style;\n            var folds = THIS.folds;\n            enabledClass && setToken(elClasses, enabledClass, !input);\n            disabledClass && setToken(elClasses, disabledClass, input);\n\n            // Deactivating\n            if (_disabled = input) {\n              style.height = null;\n              snapClass && elClasses.remove(snapClass);\n              if (edgeClass) {\n                el.removeEventListener(transitionEnd, THIS.onTransitionEnd);\n                elClasses.remove(edgeClass);\n              }\n              for (var i = 0, l = folds.length; i < l; ++i) folds[i].disabled = true;\n              THIS.noAria || el.removeAttribute(\"role\");\n              --activeAccordions;\n            }\n\n            // Reactivating\n            else {\n              for (var i = 0, l = folds.length; i < l; ++i) folds[i].disabled = false;\n              THIS.noAria || el.setAttribute(\"role\", \"tablist\");\n              ++activeAccordions;\n              update();\n            }\n\n            // If there're no more active accordions, disable the onResize handler\n            if (activeAccordions <= 0) {\n              activeAccordions = 0;\n              Accordion.setResizeRate(false);\n            }\n\n            // Otherwise, reactivate the onResize handler, assuming it was previously active\n            else if (lastResizeRate) Accordion.setResizeRate(lastResizeRate);\n          }\n        }\n      },\n      // Get or set the accordion enclosing this one\n      parent: {\n        set: function (input) {\n          _parent = input;\n        },\n        get: function () {\n          var result = _parent;\n          if (!result) return null;\n\n          // Search for the first ancestor that *isn't* disabled\n          while (result) {\n            if (!result.disabled) return result;\n            result = result.parent;\n          }\n          return null;\n        }\n      },\n      // Get or set the fold of the accordion enclosing this one\n      parentFold: {\n        set: function (input) {\n          _parentFold = input;\n        },\n        get: function () {\n          var fold = _parentFold;\n          if (!fold) return null;\n          var accordion = fold.accordion;\n\n          // Search for the first ancestor that *isn't* disabled\n          while (fold && accordion) {\n            if (!accordion.disabled) return fold;\n            if (accordion = accordion.parent) fold = accordion.parentFold;\n          }\n          return null;\n        }\n      },\n      // Height of the accordion's container element\n      height: {\n        get: function () {\n          return _height;\n        },\n        set: function (input) {\n          if (input && (input = +input) !== _height) {\n            el.style.height = input + \"px\";\n            _height = input;\n          }\n        }\n      },\n      // Whether one of the Accordion's folds has been resized incorrectly\n      wrongSize: {\n        get: function () {\n          var a = this.folds;\n          var l = a.length;\n          var i = 0;\n          for (; i < l; ++i) if (a[i].wrongSize) return true;\n          if (a = this.childAccordions) for (; i < l; ++i) if (a[i].wrongSize) return true;\n          return false;\n        }\n      },\n      // Top-level ancestor this accordion's nested inside\n      root: {\n        get: function () {\n          var result = this;\n          while (result) {\n            if (!result.parent) return result;\n            result = result.parent;\n          }\n        }\n      }\n    });\n\n    // Assign options as properties\n    THIS.openClass = options.openClass || \"open\";\n    THIS.closeClass = options.closeClass || \"closed\";\n    THIS.modal = !!options.modal;\n    THIS.noAria = !!options.noAria;\n    THIS.noKeys = !!options.noKeys;\n    THIS.noTransforms = !!options.noTransforms;\n    THIS.index = accordions.push(THIS) - 1;\n    THIS.heightOffset = +options.heightOffset || 0;\n    THIS.useBorders = undefined === options.useBorders ? \"auto\" : options.useBorders;\n    THIS.onToggle = options.onToggle;\n\n    // Create a fold for each immediate descendant of the Accordion's container\n    var folds = [];\n    each.call(el.children, function (i) {\n      var fold = new Fold(THIS, i);\n      folds.push(fold);\n\n      // Connect the fold to its previous sibling, if it's not the first to be added\n      var prev = folds[folds.length - 2];\n      if (prev) {\n        prev.nextFold = fold;\n        fold.previousFold = prev;\n      }\n    });\n    el.accordion = THIS.index;\n    THIS.noAria || el.setAttribute(\"role\", \"tablist\");\n    THIS.el = el;\n    THIS.folds = folds;\n\n    // Add .enabledClass early - it might affect the heights of each fold\n    if (!options.disabled && enabledClass) elClasses.add(enabledClass);\n    update();\n\n    // Find out if this accordion's nested inside another\n    var next = el;\n    while ((next = next.parentNode) && 1 === next.nodeType) {\n      var fold = Accordion.getFold(next);\n      if (fold) {\n        var accordion = fold.accordion;\n        THIS.parent = accordion;\n        THIS.parentFold = fold;\n        edgeClass && elClasses.remove(edgeClass);\n        (accordion.childAccordions = accordion.childAccordions || []).push(THIS);\n        (fold.childAccordions = fold.childAccordions || []).push(THIS);\n\n        // Adjust the height of the containing fold's element\n        if (fold.open) {\n          var scrollHeight = fold.el.scrollHeight;\n          var distance = fold.headingHeight + fold.content.scrollHeight - scrollHeight || scrollHeight - fold.el.clientHeight;\n          accordion.updateFold(fold, distance);\n        }\n        break;\n      }\n    }\n    edgeClass && el.addEventListener(transitionEnd, this.onTransitionEnd = function (e) {\n      if (!THIS.parent && e.target === el && \"height\" === e.propertyName && el.getBoundingClientRect().bottom > window.innerHeight) elClasses.remove(edgeClass);\n    });\n    this.disabled = !!options.disabled;\n\n    /**\n     * Internal method to check if an accordion's bottom-edge is visible to the user (or about to be).\n     *\n     * @param {Number} offset\n     * @private\n     */\n    function edgeCheck(offset) {\n      if (edgeClass) {\n        var box = el.getBoundingClientRect();\n        var windowEdge = window.innerHeight;\n\n        // If the bottom-edge is visible (or about to be), enable height animation\n        if (box.bottom + (offset || 0) < windowEdge) elClasses.add(edgeClass);\n\n        // If the bottom-edge isn't visible anyway, disable height animation immediately\n        else if (box.bottom > windowEdge) elClasses.remove(edgeClass);\n      }\n    }\n\n    /**\n     * Update the vertical ordinate of each sibling for a particular fold.\n     *\n     * @param {Fold} fold\n     * @param {Number} offset - Pixel distance to adjust by\n     */\n    function updateFold(fold, offset) {\n      var next = fold;\n      var parentFold = THIS.parentFold;\n      while (next = next.nextFold) next.y += offset;\n      parentFold || edgeCheck(offset);\n      fold.height += offset;\n      THIS.height += offset;\n      parentFold && parentFold.open && THIS.parent.updateFold(parentFold, offset);\n    }\n\n    /**\n     * Update the height of each fold to fit its content.\n     */\n    function update() {\n      var y = 0;\n      var height = 0;\n      var i = 0;\n      var l = folds.length;\n      var parentFold = THIS.parentFold;\n      var fold, diff;\n      for (; i < l; ++i) {\n        fold = folds[i];\n        fold.y = y;\n        fold.fit();\n        y += fold.height;\n        height += fold.height;\n      }\n      diff = height - _height;\n      parentFold ? parentFold.open && THIS.parent.updateFold(parentFold, diff) : edgeCheck(diff);\n      THIS.height = height;\n    }\n\n    /**\n     * Recalculate the boundaries of an Accordion and its descendants.\n     *\n     * This method should only be called if the width of a container changes,\n     * or a fold's contents have resized unexpectedly (such as when images load).\n     *\n     * @param {Boolean} allowSnap - Snap folds instantly into place without transitioning\n     */\n    function refresh(allowSnap) {\n      var snap = allowSnap ? snapClass : false;\n      snap && elClasses.add(snap);\n      THIS.update();\n      THIS.childAccordions && THIS.childAccordions.forEach(function (a) {\n        a.parentFold.open ? a.refresh(allowSnap) : a.parentFold.needsRefresh = true;\n      });\n      snap && setTimeout(function (e) {\n        elClasses.remove(snap);\n      }, 20);\n    }\n  };\n\n  // If IE8PP exists, it means the author wants/needs IE8 support. See also: tinyurl.com/fixIE8-9\n  if (\"function\" === typeof IE8PP) Accordion = IE8PP(Accordion), Fold = IE8PP(Fold);\n\n  /**\n   * Alter the rate at which screen-resize events update accordion widths.\n   *\n   * @param {Number} delay - Rate expressed in milliseconds\n   */\n  Accordion.setResizeRate = function (delay) {\n    var fn = function (e) {\n      for (var a, i = 0, l = accordions.length; i < l; ++i) {\n        a = accordions[i];\n        a.parent || a.disabled || a.refresh(true);\n      }\n    };\n    var THIS = Accordion;\n    THIS.onResize && window.removeEventListener(\"resize\", THIS.onResize);\n\n    // Make sure we weren't passed an explicit value of FALSE, or a negative value\n    if (false !== delay && (delay = +delay || 0) >= 0) {\n      THIS.onResize = delay ? debounce(fn, delay) : fn;\n      window.addEventListener(\"resize\", THIS.onResize);\n      if (delay) lastResizeRate = delay;\n    }\n  };\n\n  /**\n   * Return the closest (most deeply-nested) accordion enclosing an element.\n   *\n   * @param {Node} node\n   * @return {Accordion}\n   */\n  Accordion.getAccordion = function (node) {\n    while (node) {\n      if (\"accordion\" in node) return accordions[node.accordion];\n      node = node.parentNode;\n      if (!node || node.nodeType !== 1) return null;\n    }\n  };\n\n  /**\n   * Return the closest (most deeply-nested) fold enclosing an element.\n   *\n   * @param {Node} node\n   * @return {Fold}\n   */\n  Accordion.getFold = function (node) {\n    while (node) {\n      if (\"accordionFold\" in node) return folds[node.accordionFold];\n      node = node.parentNode;\n      if (!node || node.nodeType !== 1) return null;\n    }\n  };\n  Accordion.setResizeRate(25);\n\n  // Browser export\n  window.Accordion = Accordion;\n\n  // CommonJS/Node.js\n  if (\"object\" === typeof module && \"object\" === typeof module.exports) module.exports.Accordion = Accordion;\n\n  // AMD/UMD-like systems\n  return Accordion;\n})();","map":{"version":3,"names":["touchEnabled","document","documentElement","pressEvent","each","forEach","transitionEnd","names","split","i","toLowerCase","window","setToken","list","token","enabled","add","remove","debounce","fn","limit","soon","started","context","args","timer","delayed","timeSince","Date","now","apply","clearTimeout","setTimeout","arguments","uniqueID","IDs","indexes","prefix","complex","length","result","chars","Math","round","random","getElementById","cssTransform","n","s","style","prop","p","css3DSupported","propName","e","createElement","v","join","folds","Fold","accordion","el","THIS","heading","firstElementChild","content","lastElementChild","elClasses","classList","openClass","closeClass","keysEnabled","noKeys","useBorders","useTransforms","noTransforms","onToggle","_disabled","_open","_y","_height","_ariaEnabled","scrollX","scrollY","onTouchStart","onKeyDown","onPress","Object","defineProperties","fit","value","ariaEnabled","get","set","input","setAttribute","checkIDs","removeAttribute","open","undefined","contains","call","needsRefresh","refresh","update","modal","fold","l","disabled","height","top","removeEventListener","addEventListener","tabIndex","y","parseInt","headingHeight","scrollHeight","heightOffset","headingBorder","offsetHeight","clientHeight","elHeight","elBorder","wrongSize","index","push","noAria","accordionFold","headingSuffix","contentSuffix","elID","id","$","querySelectorAll","key","keyCode","preventDefault","target","tagName","blur","previousFold","children","childAccordions","lastAcc","lastFold","focus","parent","parentFold","nextFold","pageXOffset","pageYOffset","passive","href","type","cancelable","accordions","activeAccordions","lastResizeRate","Accordion","options","edgeClass","snapClass","enabledClass","disabledClass","_parent","_parentFold","_modal","updateFold","onTransitionEnd","setResizeRate","a","root","prev","next","parentNode","nodeType","getFold","distance","propertyName","getBoundingClientRect","bottom","innerHeight","edgeCheck","offset","box","windowEdge","diff","allowSnap","snap","IE8PP","delay","onResize","getAccordion","node","module","exports"],"sources":["/Users/mac/FPT Education/React JS/React Project/weather/node_modules/accordion/src/accordion.js"],"sourcesContent":["(function(){\n\t\"use strict\";\n\n\tvar touchEnabled = \"ontouchstart\" in document.documentElement;\n\tvar pressEvent   = touchEnabled ? \"touchend\" : \"click\";\n\tvar each         = [].forEach;\n\n\n\t// Name of the onTransitionEnd event supported by this browser\n\tvar transitionEnd = (function(){\n\t\tfor(var names = \"transitionend webkitTransitionEnd oTransitionEnd otransitionend\".split(\" \"), i = 0; i < 4; ++i)\n\t\t\tif(\"on\"+names[i].toLowerCase() in window) return names[i];\n\t\treturn names[0];\n\t}());\n\t\n\t\n\t\n\t/**\n\t * Conditionally add or remove a token from a token-list.\n\t *\n\t * @param {DOMTokenList} list\n\t * @param {String} token\n\t * @param {Boolean} enabled\n\t */\n\tfunction setToken(list, token, enabled){\n\t\tenabled ? list.add(token) : list.remove(token);\n\t}\n\n\n\n\t/**\n\t * Stop a function from firing too quickly.\n\t *\n\t * Returns a copy of the original function that runs only after the designated\n\t * number of milliseconds have elapsed. Useful for throttling onResize handlers.\n\t *\n\t * @param {Number} limit - Threshold to stall execution by, in milliseconds.\n\t * @param {Boolean} soon - If TRUE, will call the function *before* the threshold's elapsed, rather than after.\n\t * @return {Function}\n\t */\n\tfunction debounce(fn, limit, soon){\n\t\tvar limit = limit < 0 ? 0 : limit,\n\t\t\tstarted, context, args, timer,\n\n\t\t\tdelayed = function(){\n\n\t\t\t\t// Get the time between now and when the function was first fired\n\t\t\t\tvar timeSince = Date.now() - started;\n\n\t\t\t\tif(timeSince >= limit){\n\t\t\t\t\tif(!soon) fn.apply(context, args);\n\t\t\t\t\tif(timer) clearTimeout(timer);\n\t\t\t\t\ttimer = context = args = null;\n\t\t\t\t}\n\n\t\t\t\telse timer = setTimeout(delayed, limit - timeSince);\n\t\t\t};\n\n\n\t\t// Debounced copy of the original function\n\t\treturn function(){\n\t\t\tcontext = this,\n\t\t\targs    = arguments;\n\n\t\t\tif(!limit)\n\t\t\t\treturn fn.apply(context, args);\n\n\t\t\tstarted = Date.now();\n\t\t\tif(!timer){\n\t\t\t\tif(soon) fn.apply(context, args);\n\t\t\t\ttimer = setTimeout(delayed, limit);\n\t\t\t}\n\t\t};\n\t};\n\n\n\n\tvar uniqueID = (function(){\n\t\tvar IDs     = {};\n\t\tvar indexes = {};\n\t\t\n\t\t\n\t\t/**\n\t\t * Generate a unique ID for a DOM element.\n\t\t *\n\t\t * By default, minimalist IDs like \"_1\" or \"_2\" are generated using internally\n\t\t * tracked incrementation. Uglier, more collision-proof IDs can be generated by\n\t\t * passing a truthy value to the function's first argument.\n\t\t *\n\t\t * Irrespective of whether values are being generated simply or randomly, the\n\t\t * document tree is always consulted first to ensure a duplicate ID is never\n\t\t * returned.\n\t\t *\n\t\t * @param {String}  prefix - Prefix prepended to result. Default: \"_\"\n\t\t * @param {Boolean} random - Generate collision-proof IDs using random symbols\n\t\t * @param {Number}  length - Length of random passwords. Default: 6\n\t\t * @return {String}\n\t\t */\n\t\tfunction uniqueID(prefix, complex, length){\n\t\t\tlength     = +(length || 6);\n\t\t\tvar result =  (prefix = prefix || \"_\");\n\t\t\t\n\t\t\t// Simple IDs\n\t\t\tif(!complex){\n\t\t\t\t\n\t\t\t\t// Set this prefix's starting index if it's not been used yet\n\t\t\t\tif(!indexes[prefix])\n\t\t\t\t\tindexes[prefix] = 0;\n\t\t\t\t\n\t\t\t\tresult += ++indexes[prefix];\n\t\t\t}\n\t\t\t\n\t\t\t// Uglier/safer IDs\n\t\t\telse{\n\t\t\t\tvar chars   = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\t\t\t\tchars      += chars.toLowerCase();\n\t\t\t\tresult     += chars[ Math.round(Math.random() * (chars.length - 1)) ];\n\t\t\t\tchars      += \"0123456789\";\n\t\t\t\t\n\t\t\t\twhile(result.length < length)\n\t\t\t\t\tresult += chars[ Math.round(Math.random() * (chars.length - 1))];\n\t\t\t}\n\t\t\t\n\t\t\treturn IDs[result] || document.getElementById(result)\n\t\t\t\t? uniqueID(prefix, complex)\n\t\t\t\t: (IDs[result] = true, result);\n\t\t}\n\t\t\n\t\t\n\t\treturn uniqueID;\n\t}());\n\n\n\t// Name of the CSSOM property used by this browser for CSS transforms\n\tvar cssTransform = (function(n){\n\t\ts = document.documentElement.style;\n\t\tif((prop = n.toLowerCase()) in s) return prop;\n\t\tfor(var prop, s, p = \"Webkit Moz Ms O Khtml\", p = (p.toLowerCase() + p).split(\" \"), i = 0; i < 10; ++i)\n\t\t\tif((prop = p[i]+n) in s) return prop;\n\t\treturn \"\";\n\t}(\"Transform\"));\n\n\n\t// Whether 3D transforms are supported by this browser\n\tvar css3DSupported = (function(propName){\n\t\tvar e = document.createElement(\"div\"), s = e.style,\n\t\tv = [[\"translateY(\", \")\"], [\"translate3d(0,\", \",0)\"]]\n\t\ttry{ s[propName] = v[1].join(\"1px\"); } catch(e){}\n\t\treturn v[+!!s[propName]] === v[1];\n\t}(cssTransform));\n\n\n\n\n\n\n\n\n\n\tvar folds = [];\n\n\n\t/**\n\t * Represents a single panel of togglable content inside an Accordion.\n\t *\n\t * @param {Accordion} accordion\n\t * @param {HTMLElement} el\n\t * @constructor\n\t */\n\tvar Fold = function(accordion, el){\n\t\tvar THIS            = this;\n\t\tvar heading         = el.firstElementChild;\n\t\tvar content         = el.lastElementChild;\n\t\tvar elClasses       = el.classList;\n\t\tvar openClass       = accordion.openClass;\n\t\tvar closeClass      = accordion.closeClass;\n\t\tvar keysEnabled     = !accordion.noKeys;\n\t\tvar useBorders      = accordion.useBorders;\n\t\tvar useTransforms   = !accordion.noTransforms && cssTransform;\n\t\tvar onToggle        = accordion.onToggle;\n\t\tvar _disabled       = false;\n\t\tvar _open, _y, _height, _ariaEnabled;\n\t\tvar scrollX, scrollY;\n\t\tvar onTouchStart;\n\t\tvar onKeyDown;\n\t\tvar onPress;\n\t\t\n\t\t\n\t\tObject.defineProperties(THIS, {\n\t\t\tfit: {value: fit},\n\t\t\t\n\t\t\t\n\t\t\t// Add or remove relevant ARIA attributes from the fold's elements\n\t\t\tariaEnabled: {\n\t\t\t\tget: function(){ return _ariaEnabled; },\n\t\t\t\tset: function(input){\n\t\t\t\t\tif((input = !!input) !== !!_ariaEnabled){\n\t\t\t\t\t\t_ariaEnabled = input;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Enable ARIA-attribute management\n\t\t\t\t\t\tif(input){\n\t\t\t\t\t\t\theading.setAttribute(\"role\", \"tab\");\n\t\t\t\t\t\t\tcontent.setAttribute(\"role\", \"tabpanel\");\n\t\t\t\t\t\t\tcheckIDs();\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Update the attributes that're controlled by .open's setter\n\t\t\t\t\t\t\theading.setAttribute(\"aria-selected\", !!_open);\n\t\t\t\t\t\t\theading.setAttribute(\"aria-expanded\", !!_open);\n\t\t\t\t\t\t\tcontent.setAttribute(\"aria-hidden\",   !_open);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Disabling; remove all relevant attributes\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\theading.removeAttribute(\"role\");\n\t\t\t\t\t\t\theading.removeAttribute(\"aria-controls\");\n\t\t\t\t\t\t\theading.removeAttribute(\"aria-selected\");\n\t\t\t\t\t\t\theading.removeAttribute(\"aria-expanded\");\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tcontent.removeAttribute(\"role\");\n\t\t\t\t\t\t\tcontent.removeAttribute(\"aria-labelledby\");\n\t\t\t\t\t\t\tcontent.removeAttribute(\"aria-hidden\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t\n\t\t\t\n\t\t\t// Whether or not the fold's currently opened\n\t\t\topen: {\n\t\t\t\t\n\t\t\t\tget: function(){\n\t\t\t\t\t\n\t\t\t\t\t// Derive the fold's opened state from the DOM if it's not been determined yet\n\t\t\t\t\tif(undefined === _open){\n\t\t\t\t\t\t_open = elClasses.contains(openClass);\n\t\t\t\t\t\tsetToken(elClasses, closeClass, !_open);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn _open;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tset: function(input){\n\t\t\t\t\tif((input = !!input) !== _open){\n\t\t\t\t\t\t\n\t\t\t\t\t\t// If an onToggle callback was specified, run it. Avoid doing anything if it returns false.\n\t\t\t\t\t\tif(\"function\" === typeof onToggle && false === onToggle.call(null, THIS, input))\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetToken(elClasses, openClass,   input);\n\t\t\t\t\t\tsetToken(elClasses, closeClass, !input);\n\t\t\t\t\t\t_open = input;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Update ARIA attributes\n\t\t\t\t\t\tif(_ariaEnabled){\n\t\t\t\t\t\t\theading.setAttribute(\"aria-selected\",  input);\n\t\t\t\t\t\t\theading.setAttribute(\"aria-expanded\",  input);\n\t\t\t\t\t\t\tcontent.setAttribute(\"aria-hidden\",   !input);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// If this fold was closed when the screen resized, run a full update in case its contents were juggled around\n\t\t\t\t\t\tif(THIS.needsRefresh){\n\t\t\t\t\t\t\tdelete THIS.needsRefresh;\n\t\t\t\t\t\t\taccordion.refresh();\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse accordion.update();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Close other folds if accordion is modal\n\t\t\t\t\t\tif(accordion.modal && _open){\n\t\t\t\t\t\t\tfor(var fold, i = 0, l = accordion.folds.length; i < l; ++i){\n\t\t\t\t\t\t\t\tif(THIS !== (fold = accordion.folds[i]))\n\t\t\t\t\t\t\t\t\tfold.open = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// Whether the fold's been deactivated\n\t\t\tdisabled: {\n\t\t\t\tget: function(){ return _disabled },\n\t\t\t\tset: function(input){\n\t\t\t\t\tif((input = !!input) !== _disabled){\n\t\t\t\t\t\tvar style = el.style;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Deactivated\n\t\t\t\t\t\tif(_disabled = input){\n\t\t\t\t\t\t\tstyle.height = null;\n\t\t\t\t\t\t\tuseTransforms\n\t\t\t\t\t\t\t\t? (style[cssTransform] = null)\n\t\t\t\t\t\t\t\t: (style.top = null);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttouchEnabled && heading.removeEventListener(\"touchstart\", onTouchStart);\n\t\t\t\t\t\t\theading.removeEventListener(pressEvent, onPress);\n\t\t\t\t\t\t\telClasses.remove(openClass, closeClass);\n\t\t\t\t\t\t\tif(onKeyDown){\n\t\t\t\t\t\t\t\theading.removeEventListener(\"keydown\", onKeyDown);\n\t\t\t\t\t\t\t\theading.removeAttribute(\"tabindex\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(_ariaEnabled){\n\t\t\t\t\t\t\t\tTHIS.ariaEnabled = false;\n\t\t\t\t\t\t\t\t_ariaEnabled     = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Reactivated\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tstyle.height = _height + \"px\";\n\t\t\t\t\t\t\tuseTransforms\n\t\t\t\t\t\t\t\t? style[cssTransform] =\n\t\t\t\t\t\t\t\t\tcss3DSupported\n\t\t\t\t\t\t\t\t\t\t? (\"translate3D(0,\" + _y + \"px,0)\")\n\t\t\t\t\t\t\t\t\t\t: (\"translateY(\"    + _y + \"px)\")\n\t\t\t\t\t\t\t\t: (style.top = _y + \"px\");\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttouchEnabled && heading.addEventListener(\"touchstart\", onTouchStart);\n\t\t\t\t\t\t\theading.addEventListener(pressEvent, onPress);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(onKeyDown){\n\t\t\t\t\t\t\t\theading.addEventListener(\"keydown\", onKeyDown);\n\t\t\t\t\t\t\t\theading.tabIndex = 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// Vertical position of the fold within an accordion's container\n\t\t\ty: {\n\t\t\t\tget: function(){\n\t\t\t\t\tif(undefined === _y)\n\t\t\t\t\t\treturn (_y = parseInt(el.style.top) || 0);\n\t\t\t\t\treturn _y;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tset: function(input){\n\t\t\t\t\tif((input = +input) !== _y){\n\t\t\t\t\t\t_y = input;\n\t\t\t\t\t\tuseTransforms\n\t\t\t\t\t\t\t? el.style[cssTransform] =\n\t\t\t\t\t\t\t\tcss3DSupported\n\t\t\t\t\t\t\t\t\t? (\"translate3D(0,\" + input + \"px,0)\")\n\t\t\t\t\t\t\t\t\t: (\"translateY(\"    + input + \"px)\")\n\t\t\t\t\t\t\t: (el.style.top = input + \"px\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// Height of the fold's outermost container\n\t\t\theight: {\n\t\t\t\t\n\t\t\t\tget: function(){\n\t\t\t\t\tif(undefined === _height){\n\t\t\t\t\t\t_height = THIS.headingHeight + content.scrollHeight;\n\t\t\t\t\t\tel.style.height = _height + \"px\";\n\t\t\t\t\t}\n\t\t\t\t\treturn _height;\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\tset: function(input){\n\t\t\t\t\tif(input && (input = +input) !== _height){\n\t\t\t\t\t\tel.style.height = input + \"px\"\n\t\t\t\t\t\t_height         = input;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\n\t\t\t// Current height of the fold's heading\n\t\t\theadingHeight: {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn heading.scrollHeight\n\t\t\t\t\t\t+ THIS.heightOffset\n\t\t\t\t\t\t+ (useBorders ? THIS.headingBorder : 0)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Total height consumed by the heading element's CSS borders, if any\n\t\t\theadingBorder: {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn (heading.offsetHeight || 0) - (heading.clientHeight || 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t// Total height of the fold's container element\n\t\t\telHeight: {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn el.scrollHeight + (useBorders ? THIS.elBorder : 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Total height consumed by container element's CSS borders, if any\n\t\t\telBorder: {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn (el.offsetHeight || 0) - (el.clientHeight || 0);\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// Whether the fold's container has been resized incorrectly\n\t\t\twrongSize: {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn THIS.headingHeight + content.scrollHeight !== el.scrollHeight;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\tTHIS.index        = folds.push(THIS) - 1;\n\t\tTHIS.accordion    = accordion;\n\t\tTHIS.el           = el;\n\t\tTHIS.heading      = heading;\n\t\tTHIS.content      = content;\n\t\tTHIS.ariaEnabled  = !accordion.noAria;\n\t\tTHIS.heightOffset = accordion.heightOffset;\n\t\tel.accordionFold  = THIS.index;\n\t\tuseBorders        = \"auto\" === useBorders ? (0 !== THIS.elBorder + THIS.headingBorder) : useBorders;\n\t\t\n\t\t\n\t\t\n\t\tfunction checkIDs(){\n\t\t\tvar headingSuffix = \"-heading\";\n\t\t\tvar contentSuffix = \"-content\";\n\t\t\tvar elID            = el.id;\n\t\t\tvar id;\n\t\t\t\n\t\t\t// Neither of the fold's elements have an ID attribute\n\t\t\tif(!heading.id && !content.id){\n\t\t\t\tid             = elID || uniqueID(\"a\");\n\t\t\t\theading.id     = id + headingSuffix;\n\t\t\t\tcontent.id     = id + contentSuffix;\n\t\t\t}\n\t\t\t\n\t\t\t// Either the heading or element lack an ID\n\t\t\telse if(!content.id) content.id   = (elID || heading.id) + contentSuffix;\n\t\t\telse if(!heading.id) heading.id   = (elID || content.id) + headingSuffix;\n\t\t\t\n\t\t\t// Finally, double-check each element's ID is really unique\n\t\t\tvar $ = function(s){return document.querySelectorAll(\"#\"+s)};\n\t\t\twhile($(content.id).length > 1 || $(heading.id).length > 1){\n\t\t\t\tid         = uniqueID(\"a\");\n\t\t\t\tcontent.id = id + contentSuffix;\n\t\t\t\theading.id = id + headingSuffix;\n\t\t\t}\n\t\t\t\n\t\t\t// Update ARIA attributes\n\t\t\theading.setAttribute(\"aria-controls\",    content.id);\n\t\t\tcontent.setAttribute(\"aria-labelledby\",  heading.id);\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t// Keyboard navigation\n\t\tif(keysEnabled){\n\t\t\theading.tabIndex = 0;\n\t\t\theading.addEventListener(\"keydown\", onKeyDown = function(e){\n\t\t\t\tvar key = e.keyCode;\n\t\t\t\tvar fold;\n\t\t\t\t\n\t\t\t\tswitch(key){\n\n\t\t\t\t\t// Spacebar: Toggle\n\t\t\t\t\tcase 32:\n\t\t\t\t\t\te.preventDefault(); // Fall-through\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// Enter: Toggle\n\t\t\t\t\tcase 13:\n\t\t\t\t\t\tTHIS.open = !THIS.open;\n\t\t\t\t\t\tif(\"A\" === e.target.tagName)\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// Escape: Clear focus\n\t\t\t\t\tcase 27:\n\t\t\t\t\t\te.target.blur();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// Up arrow: Previous section\n\t\t\t\t\tcase 38:{\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Is there a previous sibling to navigate up to?\n\t\t\t\t\t\tif(fold = THIS.previousFold){\n\t\t\t\t\t\t\tvar children = fold.childAccordions;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Is it open, and does it have nested accordions?\n\t\t\t\t\t\t\tif(fold.open && children){\n\t\t\t\t\t\t\t\tvar lastAcc;\n\t\t\t\t\t\t\t\tvar lastFold;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Locate the deepest/nearest accordion that's currently exposed\n\t\t\t\t\t\t\t\twhile(children){\n\t\t\t\t\t\t\t\t\tlastAcc  = children[children.length - 1];\n\t\t\t\t\t\t\t\t\tlastFold = lastAcc.folds[lastAcc.folds.length - 1];\n\t\t\t\t\t\t\t\t\tif(!lastFold.open) break;\n\t\t\t\t\t\t\t\t\tchildren = lastFold.childAccordions;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlastFold.heading.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Nope\n\t\t\t\t\t\t\telse fold.heading.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Is there a higher level we can jump back up to?\n\t\t\t\t\t\telse if(accordion.parent)\n\t\t\t\t\t\t\taccordion.parentFold.heading.focus();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// There's nothing to move back to, so just let the browser run its usual behaviour\n\t\t\t\t\t\telse return true;\n\t\t\t\t\t\t\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// Down arrow: Next section\n\t\t\t\t\tcase 40:{\n\t\t\t\t\t\tvar children = THIS.childAccordions;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Is there a nested accordion to jump into?\n\t\t\t\t\t\tif(THIS.open && children)\n\t\t\t\t\t\t\tchildren[0].folds[0].heading.focus();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// No, there isn't. Is there another sibling to move down to?\n\t\t\t\t\t\telse if(fold = THIS.nextFold)\n\t\t\t\t\t\t\tfold.heading.focus();\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Is there a containing accordion we can navigate back up to?\n\t\t\t\t\t\telse if(THIS.accordion.parent){\n\t\t\t\t\t\t\tvar parent = THIS;\n\t\t\t\t\t\t\twhile(parent = parent.accordion.parentFold)\n\t\t\t\t\t\t\t\tif(fold = parent.nextFold){\n\t\t\t\t\t\t\t\t\tfold.heading.focus();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Nowhere left to go...\n\t\t\t\t\t\t\tif(!parent) return true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Nah. Just scroll the window normally, as per browser default\n\t\t\t\t\t\telse return true;\n\t\t\t\t\t\t\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t// Left arrow\n\t\t\t\t\tcase 37:{\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Close an opened section\n\t\t\t\t\t\tif(THIS.open) THIS.open = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Switch focus back to parent\n\t\t\t\t\t\telse if(accordion.parent)\n\t\t\t\t\t\t\taccordion.parentFold.heading.focus();\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Right arrow\n\t\t\t\t\tcase 39:{\n\t\t\t\t\t\tvar children = THIS.childAccordions;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Open a closed section\n\t\t\t\t\t\tif(!THIS.open) THIS.open = true;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Switch focus to a nested accordion\n\t\t\t\t\t\telse if(children)\n\t\t\t\t\t\t\tchildren[0].folds[0].heading.focus();\n\t\t\t\t\t\t\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\t\n\t\t// Listener to record the viewport's scroll offsets at the beginning of a touch\n\t\ttouchEnabled && heading.addEventListener(\"touchstart\", onTouchStart = function(e){\n\t\t\tscrollX = window.pageXOffset;\n\t\t\tscrollY = window.pageYOffset;\n\t\t}, {passive: true});\n\t\t\n\t\t\n\t\theading.addEventListener(pressEvent, onPress = function(e){\n\t\t\t\n\t\t\t// Pressed on something inside the header\n\t\t\tif(e.target !== heading && heading.contains(e.target)){\n\t\t\t\t\n\t\t\t\t// Cancel fold-toggle if user clicked on an anchor-link\n\t\t\t\tif(\"A\" === e.target.tagName && e.target.href)\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\t\n\t\t\tif(e.type !== \"touchend\" || (e.cancelable && window.pageXOffset === scrollX && window.pageYOffset === scrollY)){\n\t\t\t\tTHIS.open = !THIS.open;\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Adjust a fold's container to fit its content.\n\t\t */\n\t\tfunction fit(){\n\t\t\tvar height = THIS.headingHeight;\n\t\t\tif(THIS.open)   height += content.scrollHeight;\n\t\t\tif(useBorders)  height += THIS.elBorder;\n\t\t\tTHIS.height = height;\n\t\t}\n\t}\n\n\n\n\n\n\n\n\tvar accordions       = [];\n\tvar activeAccordions = 0;\n\tvar lastResizeRate;\n\n\n\t/**\n\t * Represents a column of collapsible content regions.\n\t *\n\t * @param {HTMLElement} el                    - Container wrapped around each immediate fold\n\t * @param {Object}      options               - Optional hash of settings\n\t * @param {String}      options.openClass     - CSS class controlling each fold's \"open\" state\n\t * @param {String}      options.closeClass    - CSS class used to mark a fold as closed\n\t * @param {String}      options.edgeClass     - CSS class toggled based on whether the bottom-edge is visible\n\t * @param {String}      options.snapClass     - CSS class for disabling transitions between window resizes\n\t * @param {String}      options.enabledClass  - CSS class marking an accordion as enabled\n\t * @param {String}      options.disabledClass - CSS class marking an accordion as disabled\n\t * @param {Boolean}     options.disabled      - Whether to disable the accordion on creation\n\t * @param {Boolean}     options.modal         - Whether to close the current fold when opening another\n\t * @param {Boolean}     options.noAria        - Disable the addition and management of ARIA attributes\n\t * @param {Boolean}     options.noKeys        - Disable keyboard navigation\n\t * @param {Boolean}     options.noTransforms  - Disable CSS transforms; positioning will be used instead\n\t * @param {Number}      options.heightOffset  - Distance to offset each fold by\n\t * @param {Boolean}     options.useBorders    - Consider borders when calculating fold heights\n\t * @param {Function}    options.onToggle      - Callback executed when opening or closing a fold\n\t * @constructor\n\t */\n\tvar Accordion = function(el, options){\n\t\tvar THIS          = this;\n\t\tvar elClasses     = el.classList;\n\t\tvar options       = options || {};\n\t\tvar edgeClass     = (undefined === options.edgeClass    ? \"edge-visible\" : options.edgeClass);\n\t\tvar snapClass     = (undefined === options.snapClass    ? \"snap\"         : options.snapClass);\n\t\tvar enabledClass  = (undefined === options.enabledClass ? \"accordion\"    : options.enabledClass);\n\t\tvar disabledClass = options.disabledClass;\n\t\tvar _height, _disabled, _parent, _parentFold, _modal;\n\n\n\t\tObject.defineProperties(THIS, {\n\t\t\tupdate:     {value: update},\n\t\t\tupdateFold: {value: updateFold},\n\t\t\trefresh:    {value: refresh},\n\t\t\t\n\t\t\t// Whether the accordion's been deactivated\n\t\t\tdisabled: {\n\t\t\t\tget: function(){ return _disabled; },\n\t\t\t\tset: function(input){\n\t\t\t\t\tif((input = !!input) !== _disabled){\n\t\t\t\t\t\tvar style   = el.style;\n\t\t\t\t\t\tvar folds   = THIS.folds;\n\t\t\t\t\t\t\n\t\t\t\t\t\tenabledClass  && setToken(elClasses, enabledClass,  !input);\n\t\t\t\t\t\tdisabledClass && setToken(elClasses, disabledClass,  input);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Deactivating\n\t\t\t\t\t\tif(_disabled = input){\n\t\t\t\t\t\t\tstyle.height = null;\n\t\t\t\t\t\t\tsnapClass && elClasses.remove(snapClass);\n\t\t\t\t\t\t\tif(edgeClass){\n\t\t\t\t\t\t\t\tel.removeEventListener(transitionEnd, THIS.onTransitionEnd);\n\t\t\t\t\t\t\t\telClasses.remove(edgeClass);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tfor(var i = 0, l = folds.length; i < l; ++i)\n\t\t\t\t\t\t\t\tfolds[i].disabled = true;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tTHIS.noAria || el.removeAttribute(\"role\");\n\t\t\t\t\t\t\t--activeAccordions;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Reactivating\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tfor(var i = 0, l = folds.length; i < l; ++i)\n\t\t\t\t\t\t\t\tfolds[i].disabled = false;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tTHIS.noAria || el.setAttribute(\"role\", \"tablist\");\n\t\t\t\t\t\t\t++activeAccordions;\n\t\t\t\t\t\t\tupdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\n\t\t\t\t\t\t\n\t\t\t\t\t\t// If there're no more active accordions, disable the onResize handler\n\t\t\t\t\t\tif(activeAccordions <= 0){\n\t\t\t\t\t\t\tactiveAccordions = 0;\n\t\t\t\t\t\t\tAccordion.setResizeRate(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Otherwise, reactivate the onResize handler, assuming it was previously active\n\t\t\t\t\t\telse if(lastResizeRate)\n\t\t\t\t\t\t\tAccordion.setResizeRate(lastResizeRate);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Get or set the accordion enclosing this one\n\t\t\tparent: {\n\t\t\t\tset: function(input){ _parent = input; },\n\t\t\t\tget: function(){\n\t\t\t\t\tvar result = _parent;\n\t\t\t\t\tif(!result) return null;\n\t\t\t\t\t\n\t\t\t\t\t// Search for the first ancestor that *isn't* disabled\n\t\t\t\t\twhile(result){\n\t\t\t\t\t\tif(!result.disabled) return result;\n\t\t\t\t\t\tresult = result.parent;\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Get or set the fold of the accordion enclosing this one\n\t\t\tparentFold: {\n\t\t\t\tset: function(input){ _parentFold = input; },\n\t\t\t\tget: function(){\n\t\t\t\t\tvar fold = _parentFold;\n\t\t\t\t\tif(!fold) return null;\n\t\t\t\t\t\n\t\t\t\t\tvar accordion = fold.accordion;\n\t\t\t\t\t\n\t\t\t\t\t// Search for the first ancestor that *isn't* disabled\n\t\t\t\t\twhile(fold && accordion){\n\t\t\t\t\t\tif(!accordion.disabled) return fold;\n\t\t\t\t\t\tif(accordion = accordion.parent)\n\t\t\t\t\t\t\tfold = accordion.parentFold;\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Height of the accordion's container element\n\t\t\theight: {\n\t\t\t\tget: function(){ return _height; },\n\t\t\t\tset: function(input){\n\t\t\t\t\tif(input && (input = +input) !== _height){\n\t\t\t\t\t\tel.style.height = input + \"px\";\n\t\t\t\t\t\t_height         = input;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Whether one of the Accordion's folds has been resized incorrectly\n\t\t\twrongSize: {\n\t\t\t\tget: function(){\n\t\t\t\t\tvar a = this.folds;\n\t\t\t\t\tvar l = a.length;\n\t\t\t\t\tvar i = 0;\n\t\t\t\t\tfor(; i < l; ++i) if(a[i].wrongSize) return true;\n\t\t\t\t\tif(a = this.childAccordions)\n\t\t\t\t\tfor(; i < l; ++i) if(a[i].wrongSize) return true;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Top-level ancestor this accordion's nested inside\n\t\t\troot: {\n\t\t\t\tget: function(){\n\t\t\t\t\tvar result = this;\n\t\t\t\t\twhile(result){\n\t\t\t\t\t\tif(!result.parent) return result;\n\t\t\t\t\t\tresult = result.parent;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\t\n\t\t// Assign options as properties\n\t\tTHIS.openClass    = options.openClass  || \"open\";\n\t\tTHIS.closeClass   = options.closeClass || \"closed\";\n\t\tTHIS.modal        = !!options.modal;\n\t\tTHIS.noAria       = !!options.noAria;\n\t\tTHIS.noKeys       = !!options.noKeys;\n\t\tTHIS.noTransforms = !!options.noTransforms;\n\t\tTHIS.index        = accordions.push(THIS) - 1;\n\t\tTHIS.heightOffset = +options.heightOffset || 0;\n\t\tTHIS.useBorders   = undefined === options.useBorders ? \"auto\" : options.useBorders;\n\t\tTHIS.onToggle     = options.onToggle;\n\t\t\n\t\t\n\t\t// Create a fold for each immediate descendant of the Accordion's container\n\t\tvar folds = [];\n\t\teach.call(el.children, function(i){\n\t\t\tvar fold = new Fold(THIS, i);\n\t\t\tfolds.push(fold);\n\t\t\t\n\t\t\t// Connect the fold to its previous sibling, if it's not the first to be added\n\t\t\tvar prev = folds[folds.length - 2];\n\t\t\tif(prev){\n\t\t\t\tprev.nextFold     = fold;\n\t\t\t\tfold.previousFold = prev;\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\tel.accordion    = THIS.index;\n\t\tTHIS.noAria || el.setAttribute(\"role\", \"tablist\");\n\t\tTHIS.el         = el;\n\t\tTHIS.folds      = folds;\n\t\t\n\t\t// Add .enabledClass early - it might affect the heights of each fold\n\t\tif(!options.disabled && enabledClass)\n\t\t\telClasses.add(enabledClass);\n\t\t\n\t\tupdate();\n\t\t\n\t\t\n\t\t// Find out if this accordion's nested inside another\n\t\tvar next = el;\n\t\twhile((next = next.parentNode) && 1 === next.nodeType){\n\t\t\tvar fold = Accordion.getFold(next);\n\t\t\tif(fold){\n\t\t\t\tvar accordion   = fold.accordion;\n\t\t\t\tTHIS.parent     = accordion;\n\t\t\t\tTHIS.parentFold = fold;\n\t\t\t\tedgeClass && elClasses.remove(edgeClass);\n\t\t\t\t(accordion.childAccordions = accordion.childAccordions || []).push(THIS);\n\t\t\t\t(fold.childAccordions      = fold.childAccordions      || []).push(THIS);\n\n\t\t\t\t// Adjust the height of the containing fold's element\n\t\t\t\tif(fold.open){\n\t\t\t\t\tvar scrollHeight = fold.el.scrollHeight;\n\t\t\t\t\tvar distance     = (fold.headingHeight + fold.content.scrollHeight) - scrollHeight || (scrollHeight - fold.el.clientHeight);\n\t\t\t\t\taccordion.updateFold(fold, distance);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\tedgeClass && el.addEventListener(transitionEnd, this.onTransitionEnd = function(e){\n\t\t\tif(!THIS.parent && e.target === el && \"height\" === e.propertyName && el.getBoundingClientRect().bottom > window.innerHeight)\n\t\t\t\telClasses.remove(edgeClass);\n\t\t});\n\t\t\n\t\tthis.disabled = !!options.disabled;\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Internal method to check if an accordion's bottom-edge is visible to the user (or about to be).\n\t\t *\n\t\t * @param {Number} offset\n\t\t * @private\n\t\t */\n\t\tfunction edgeCheck(offset){\n\t\t\tif(edgeClass){\n\t\t\t\tvar box         = el.getBoundingClientRect();\n\t\t\t\tvar windowEdge  = window.innerHeight;\n\t\t\t\t\n\t\t\t\t// If the bottom-edge is visible (or about to be), enable height animation\n\t\t\t\tif(box.bottom + (offset || 0) < windowEdge)\n\t\t\t\t\telClasses.add(edgeClass)\n\t\t\t\t\n\t\t\t\t// If the bottom-edge isn't visible anyway, disable height animation immediately\n\t\t\t\telse if(box.bottom > windowEdge)\n\t\t\t\t\telClasses.remove(edgeClass);\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Update the vertical ordinate of each sibling for a particular fold.\n\t\t *\n\t\t * @param {Fold} fold\n\t\t * @param {Number} offset - Pixel distance to adjust by\n\t\t */\n\t\tfunction updateFold(fold, offset){\n\t\t\tvar next = fold;\n\t\t\tvar parentFold = THIS.parentFold;\n\t\t\t\n\t\t\twhile(next = next.nextFold)\n\t\t\t\tnext.y  += offset;\n\t\t\tparentFold || edgeCheck(offset);\n\t\t\tfold.height += offset;\n\t\t\tTHIS.height += offset;\n\t\t\t\n\t\t\tparentFold && parentFold.open && THIS.parent.updateFold(parentFold, offset);\n\t\t}\n\t\t\n\t\t\n\t\t/**\n\t\t * Update the height of each fold to fit its content.\n\t\t */\n\t\tfunction update(){\n\t\t\tvar y      = 0;\n\t\t\tvar height = 0;\n\t\t\tvar i      = 0;\n\t\t\tvar l      = folds.length;\n\t\t\tvar parentFold = THIS.parentFold;\n\t\t\tvar fold, diff;\n\t\t\t\n\t\t\tfor(; i < l; ++i){\n\t\t\t\tfold   = folds[i];\n\t\t\t\tfold.y = y;\n\t\t\t\tfold.fit();\n\t\t\t\ty      += fold.height;\n\t\t\t\theight += fold.height;\n\t\t\t}\n\t\t\t\n\t\t\tdiff = height - _height;\n\t\t\tparentFold\n\t\t\t\t? (parentFold.open && THIS.parent.updateFold(parentFold, diff))\n\t\t\t\t: edgeCheck(diff);\n\t\t\t\n\t\t\tTHIS.height = height;\n\t\t}\n\t\t\n\t\t\n\t\t\n\t\t/**\n\t\t * Recalculate the boundaries of an Accordion and its descendants.\n\t\t *\n\t\t * This method should only be called if the width of a container changes,\n\t\t * or a fold's contents have resized unexpectedly (such as when images load).\n\t\t *\n\t\t * @param {Boolean} allowSnap - Snap folds instantly into place without transitioning\n\t\t */\n\t\tfunction refresh(allowSnap){\n\t\t\tvar snap = allowSnap ? snapClass : false;\n\t\t\tsnap && elClasses.add(snap);\n\t\t\t\n\t\t\tTHIS.update();\n\t\t\tTHIS.childAccordions && THIS.childAccordions.forEach(function(a){\n\t\t\t\ta.parentFold.open\n\t\t\t\t\t? a.refresh(allowSnap)\n\t\t\t\t\t: (a.parentFold.needsRefresh = true);\n\t\t\t});\n\t\t\t\n\t\t\tsnap && setTimeout(function(e){elClasses.remove(snap)}, 20);\n\t\t}\n\t}\n\n\t// If IE8PP exists, it means the author wants/needs IE8 support. See also: tinyurl.com/fixIE8-9\n\tif(\"function\" === typeof IE8PP)\n\t\tAccordion = IE8PP(Accordion),\n\t\tFold      = IE8PP(Fold);\n\n\n\n\t/**\n\t * Alter the rate at which screen-resize events update accordion widths.\n\t *\n\t * @param {Number} delay - Rate expressed in milliseconds\n\t */\n\tAccordion.setResizeRate = function(delay){\n\t\tvar fn = function(e){\n\t\t\tfor(var a, i = 0, l = accordions.length; i < l; ++i){\n\t\t\t\ta = accordions[i];\n\t\t\t\ta.parent || a.disabled || a.refresh(true);\n\t\t\t}\n\t\t};\n\t\t\n\t\tvar THIS = Accordion;\n\t\tTHIS.onResize && window.removeEventListener(\"resize\", THIS.onResize);\n\t\t\n\t\t// Make sure we weren't passed an explicit value of FALSE, or a negative value\n\t\tif(false !== delay && (delay = +delay || 0) >= 0){\n\t\t\tTHIS.onResize = delay ? debounce(fn, delay) : fn;\n\t\t\twindow.addEventListener(\"resize\", THIS.onResize);\n\t\t\tif(delay) lastResizeRate = delay;\n\t\t}\n\t}\n\t\n\t\n\t\n\t/**\n\t * Return the closest (most deeply-nested) accordion enclosing an element.\n\t *\n\t * @param {Node} node\n\t * @return {Accordion}\n\t */\n\tAccordion.getAccordion = function(node){\n\t\twhile(node){\n\t\t\tif(\"accordion\" in node)\n\t\t\t\treturn accordions[node.accordion];\n\t\t\t\n\t\t\tnode = node.parentNode;\n\t\t\tif(!node || node.nodeType !== 1) return null;\n\t\t}\n\t}\n\t\n\t\n\t/**\n\t * Return the closest (most deeply-nested) fold enclosing an element.\n\t *\n\t * @param {Node} node\n\t * @return {Fold}\n\t */\n\tAccordion.getFold = function(node){\n\t\twhile(node){\n\t\t\tif(\"accordionFold\" in node)\n\t\t\t\treturn folds[node.accordionFold];\n\t\t\t\n\t\t\tnode = node.parentNode;\n\t\t\tif(!node || node.nodeType !== 1) return null;\n\t\t}\n\t}\n\t\n\n\t\n\tAccordion.setResizeRate(25);\n\t\n\t\n\t// Browser export\n\twindow.Accordion = Accordion;\n\t\n\t// CommonJS/Node.js\n\tif(\"object\" === typeof module && \"object\" === typeof module.exports)\n\t\tmodule.exports.Accordion = Accordion;\n\t\n\t// AMD/UMD-like systems\n\treturn Accordion;\n}());\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}